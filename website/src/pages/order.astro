---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Hero from '../components/widgets/Hero.astro';
import Pricing from '../components/widgets/Pricing.astro';
import Features from '../components/widgets/Features.astro';

// Get environment variable for Stripe link
const stripeOrderLink = import.meta.env.PUBLIC_STRIPE_LINK_1 || 'https://buy.stripe.com/test_8wMcOcbNy0kN8Ks5kk';
---

<Layout 
  title="Order Magnets - UpkeepQR"
  description="Choose the perfect quantity for your needs. Each magnet includes a unique QR code for easy home maintenance tracking."
>
  <Header showToggleTheme={true} />
  
  <!-- Hero Section -->
  <Hero
    title="Order Your <span class='text-accent-400'>UpkeepQR</span> Magnets"
    subtitle="Choose the perfect quantity for your needs. Each magnet includes a unique QR code for easy home maintenance tracking."
    class="bg-primary-900"
  />

  <!-- Pricing Section -->
  <Pricing 
    plans={[
      {
        name: 'Single Magnet',
        price: '$12',
        description: 'Perfect for trying it out',
        features: [
          '1 QR code magnet',
          'Automated reminders',
          'Email & calendar sync',
          'Pro booking feature'
        ],
        cta: {
          text: 'Order Now',
          href: stripeOrderLink,
          analytics: "typeof gtag !== 'undefined' && gtag('event', 'purchase', { 'transaction_id': '1-magnet', 'value': 12, 'currency': 'USD' });"
        }
      },
      {
        name: '100 Pack',
        price: '$299',
        description: 'Great for real estate agents',
        features: [
          '100 QR code magnets',
          'Bulk discount applied',
          'All features included',
          'Priority support'
        ],
        cta: {
          text: 'Order Now',
          href: '/contact',
          analytics: "typeof gtag !== 'undefined' && gtag('event', 'purchase', { 'transaction_id': '100-pack', 'value': 299, 'currency': 'USD' });"
        },
        popular: true
      },
      {
        name: '300 Pack',
        price: '$749',
        description: 'For large agencies',
        features: [
          '300 QR code magnets',
          'Maximum bulk discount',
          'All features included',
          'Dedicated account manager'
        ],
        cta: {
          text: 'Order Now',
          href: '/contact',
          analytics: "typeof gtag !== 'undefined' && gtag('event', 'purchase', { 'transaction_id': '300-pack', 'value': 749, 'currency': 'USD' });"
        }
      }
    ]}
  />

  <!-- Order FAQ Section -->
  <Features
    title="Frequently Asked Questions"
    subtitle="Everything you need to know about ordering"
    items={[
      {
        title: "What's included with my order?",
        description: 'Each magnet comes with a unique QR code, weatherproof design, and access to our full reminder system including email, calendar sync, and pro booking features.',
        icon: '📦'
      },
      {
        title: 'How does shipping work?',
        description: 'We offer free shipping on all orders within the continental US. Orders typically arrive within 5-7 business days via USPS.',
        icon: '🚚'
      },
      {
        title: 'Can I get a refund?',
        description: 'We offer a 30-day money-back guarantee. If you\'re not satisfied with your purchase, contact us for a full refund.',
        icon: '💰'
      },
      {
        title: 'Do you offer volume discounts?',
        description: 'Yes! Our 100-pack and 300-pack options include significant bulk discounts. Contact us for custom pricing on orders over 300 units.',
        icon: '🏢'
      }
    ]}
    columns={2}
    class="bg-white"
  />

  <Footer />
</Layout>